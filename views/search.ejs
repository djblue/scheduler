<doctype HTML>
<html ng-app="search">
<head>
    <title><%= title %></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="content-type" content="text/html; charset=utf-8"0>
    <link rel="stylesheet" type="text/css" href="/styles/main.css">
    <script src="/bower_components/underscore/underscore-min.js"/></script>
    <script src="/bower_components/jquery/jquery.min.js"/></script>
    <script src="/bower_components/angular/angular.min.js"></script>
    <script src="/javascripts/search.js"></script>
<style>
    body { padding: 0; }
</style>
</head>
<body>

<div ng-controller="searchController" class="search">
    <h1>Search</h1>

    <!-- Prefix and Course Number -->
    <div class="grid">
        <select class="col-1-5" ng-model="prefix"
            ng-options="m.prefix for m in subjects"></select>
        <select class="col-4-5" ng-model="number" ng-show="show1"
            ng-options="m.course for m in courses"></select>
    </div>

    <div ng-show="show1">

    <table class="search-table">
        <thead>
            <tr>
                <th><!-- Corner Piece--></th>
                <th class="rot capitalize" ng-repeat="day in week">
                    <div>{{day}}</div></th>
            </tr>
        </thead>
        <tbody>
        <tr ng-repeat="(i, hour) in table.monday">

                <td class="left">{{table.monday[i].time}}</td>

                <td ng-repeat="day in week" 
                    ng-click="showTutor(table[day][i], day)"
                    class="tutors-{{table[day][i].tutors.length > 0 }}">
                        <div>{{table[day][i].tutors.length}}</div></td>
            </tr>
        </tbody>
    </table>

    </div>
    <div ng-show="show2">
        <button ng-click="showTable()">Go Back</button>
        <span class="capitalize">{{ time }}</span>
        <div class="background"></div>
        <table class="table popup">
            <thead>
                <tr>
                    <th>Tutors</th>
                    <th>Location</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat= "tutor in tutors.tutors">
                    <td>{{tutor.name}}</td>
                    <td><a href="http://tutoring.engineering.asu.edu/wp-content/uploads/2013/08/Map.jpg">
                        {{tutor.location.title}}</a></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>
